<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>QNANO: Example: Graphene structure generation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QNANO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">QNANO Documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Example: Graphene structure generation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="graphene_structure_gen"></a>
Structure generation</h1>
<p>Directory: "examples/graphene/01_generate_monolayer":</p>
<p>In main input for QNANO is a file containing the positions of all atoms in the structure. Here, we create 3 different graphene samples:</p><ul>
<li>8x8 unit cells of graphene</li>
<li>a hexagonal flake with armchair edges (size: 8 hexagonal rings per side)</li>
<li>a hexagonal flake with zigzag edges (size: 8 hexagonal rings per side)</li>
<li>a triangular flake with zigzag edges (size: 5 hexagonal rings per side)</li>
</ul>
<p>To run the example, go to an empty directory and call: </p><pre class="fragment">$QNANO_DIR/examples/graphene/01_generate_monolayer/run_example.sh 
</pre><p> This command will have created three postscript files "positions_Nx8_Ny8.ps", "positions_armchair_hex8.ps", "positions_zigzag_hex8.ps", and "positions_tri5.ps" that can be opened with any vector graphics reader (e.g. evince on Linux).</p>
<p>The result is shown below:</p>
<p>positions_Nx8_Ny8.ps: </p><div class="image">
<img src="positions_Nx8_Ny8.gif" alt="positions_Nx8_Ny8.gif"/>
</div>
<p>positions_armchair_hex8.ps: </p><div class="image">
<img src="positions_armchair_hex8.gif" alt="positions_armchair_hex8.gif"/>
</div>
<p>positions_zigzag_hex8.ps: </p><div class="image">
<img src="positions_zigzag_hex8.gif" alt="positions_zigzag_hex8.gif"/>
</div>
<p>positions_tri5.ps: </p><div class="image">
<img src="positions_tri5.gif" alt="positions_tri5.gif"/>
</div>
<p>This script invokes command for generating the structure and for generating the postscript file:</p>
<p>The command </p><pre class="fragment">$QNANO_DIR/bin/generate -materialfile $QNANO_DIR/resources/graphene.dat \
-Nx 8 -Ny 8 -outfile positions_Nx8_Ny8.dat
</pre><p> generates a positions file with a name specified by the option "outfile" using the material defined by the material file "$QNANO_DIR/resources/graphene.dat". This materialfile contains information about the lattice constants and a reference to the lattice file (which is in this case "$QNANO_DIR/resources/hex2D_vdW.dat").</p>
<p>The options "-Nx 8 -Ny 8" tell the tool to create a lattice with 8 unit cells in x- and y-directions. For the hexagons, we can use instead the options "-cut_hexagon_armchair 8" and "-cut_hexagon_zigzag 8".</p>
<p>As arbitrary shapes of structures can be arbitrarily complicated, we leave the generation of postions files for other scenarios to the user. To this end, we want to clarify the format of the position file. For example, the first 12 lines of the file "positions_Nx8_Ny8.dat" are: </p><pre class="fragment">&lt;materials&gt;
 material   1   graphene
&lt;/materials&gt;

number_of_atoms 128

atom_data
      0 0 0 6
      0.071000014 0.12297561 0 6
      0.213 0.12297561 0 6
      0.28400001 0.24595121 0 6
      0.426 0.24595121 0 6
...
</pre><p> The block "&lt;materials&gt;" contains information about the material. In this case it is "graphene" and the code will look for a file "graphene.dat" in the specified resources directory. Then, the total number of atoms in the structure is specified. After "atom_data" the actual block of atoms follows: Each line corresponds to one atom, the first 3 numbers are x, y and z coordinates in nm, the last number is an identifier of the element. We typically use the number in the periodic table, i.e. 6 for Carbon.</p>
<p>In the next step, we display the generated stuctures via postscript files. The tool for this is "QNANO2ps" and can be invoke like </p><pre class="fragment">$QNANO_DIR/bin/QNANO2ps -positions positions_Nx8_Ny8.dat -outfile positions_Nx8_Ny8.ps
</pre><p> where the option "-positions" specifies the positions file of the structure to be displayed and "-outfile" sets the name of the generated postscript file.</p>
<p>However, we do provides some basic cutting features. As an example, we explain the steps involved in cutting the zigzag triangle </p><pre class="fragment">N=5
$QNANO_DIR/bin/generate -materialfile $QNANO_DIR/resources/graphene.dat \
-Nx $(($N+2)) -Ny $(($N+2)) -outfile positions_tri${N}.dat \
-cut_plane_through_LU -1 0 0 $(echo $N-0.01|bc) 0 0 \
-cut_plane_through_LU_LU 0.666667 -0.333333 0  $(echo $N+1.01|bc) 0 0 \
-cut_plane_through_LU_LU -0.333333  0.666667 0   0 $(echo $N+0.01|bc) 0 \
-cut_plane_through_LU 0 -1 0 0 $(echo $N-0.01|bc) 0  \
-cut_plane_through_LU 1 0 0  $(echo 2*$N+0.99|bc) 0 0
</pre><p> where N controls the size, i.e. the number of hexagonal rings per side of the triangle.</p>
<p>The tool first generates a sample composed of 7x7 unit cells, which will be large enought to contain a part from which we can cut out the triangle. Subsequently the sample is cut using planes. A plane can be specified by its Hesse normal form, i.e. a vector perpendicular to the plane and the shortest distance to the origin (option "cut_plane", not used here). Here, we use the alternative of setting the shortest distance to zero, but specifying the origin as a point explicitly. "cut_plane_through" therefore has 6 arguments, the first three are the direction vector (perpendicular to the plane) and the last three are center coordinates. By default, the origin set to the point from which the underlying unit cells are created (here: the leftmost atom in the structure before cutting) and the coordinates are given in units of nm. "cut_plane_through_LU" uses "lattice units" for the origin, i.e. the coefficients will be multiplied with the respective lattice vectors, while the direction vector is still provided in cartesian coordinates. The option "cut_plane_through_LU_LU" uses lattice units for both, the origin and the direction vector.</p>
<p>The individual steps required for cutting are illustrated below: </p><div class="image">
<img src="gen_tri.gif" alt="gen_tri.gif"/>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

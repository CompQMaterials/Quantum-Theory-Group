<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>QNANO: Example: Bilayer Graphene</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QNANO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">QNANO Documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Example: Bilayer Graphene </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="graphene_bilayer"></a>
Bilayer Graphene</h1>
<p>Directory: "examples/graphene/04_bilayer:"</p>
<p>As we have seen previously </p><pre class="fragment">$QNANO_DIR/bin/generate -materialfile $QNANO_DIR/resources/graphene.dat \
-cut_hexagon_armchair 8 -outfile positions_armchair_hex8.dat
</pre><p> generates a hexagonal armchair graphene flake with 8 hexagonal rings per side.</p>
<p>To generate an AB-stacked bilayer, we copy the postion file of the monolayer, shift it and add it to another monolayer: </p><pre class="fragment">$QNANO_DIR/bin/add_positions \
-positions positions_armchair_hex8.dat positions_armchair_hex8.dat \
-lattice_units_materialfile $QNANO_DIR/resources/graphene.dat \
-shift_LU 0.666667 -0.333333 1  -outfile bilayer_armchair_hex8.dat
</pre><p>"add_positions" takes two position files, here they are the same. The second position file will be shifted by a vector defined by "shift_LU". The "_LU" suffix indicates that the vector is given in lattice units, i.e., the periodic lattice vectors. To this end, we also need a material file "lattice_units_materialfile" from which the lattice vectors are read.</p>
<p>Note that "$QNANO_DIR/resources/graphene.dat" contains information about the lattice: </p><pre class="fragment">lattice_type hex2D_vdW
lattice_constant 0.142 0.142 0.335 ! nm
</pre><p> In turn, the lattice file "$QNANO_DIR/resources/hex2D_vdW.dat" lists the positions of the atoms in one unit cell (in lattice units) as </p><pre class="fragment">position 0.0  0.0  0.0
position 0.6666667  -0.3333333  0.
</pre><p> and the lattice vectors (x, y and z coordinates are to be multiplied with the respective lattice constants from the material file) </p><pre class="fragment">primitive_vector_1 1.5 0.8660254 0.0
primitive_vector_2 1.5 -0.8660254 0.0
primitive_vector_3 0.0 0.0 -1.
</pre><p>Thus, the shift by "0.6666667  -0.3333333  1" will shift the A atoms in a lower layer (note the -1 in primitive_vector_3) below the corresponding B atoms in the upper layer.</p>
<p>The remaining steps in the example script are the diagonalization (cf. previous example) and plotting of the results. In order to plot charge densities on the upper and lower layers independently, we use </p><pre class="fragment">$QNANO_DIR/bin/QNANO2ps -positions bilayer_armchair_hex8.dat \
-displayEV EV0_bilayer_armchair_hex8.dat \
-boxwidthz 0.2 -translatez 0.2 -outfile EV0_upper.ps

$QNANO_DIR/bin/QNANO2ps -positions bilayer_armchair_hex8.dat \
-displayEV EV0_bilayer_armchair_hex8.dat \
-boxwidthz 0.2 -translatez -0.2 -outfile EV0_lower.ps
</pre><p> which uses the additional options "boxwidthz" and "translatez". If "boxwidthz" is defined (similar "boxwidthx" and "boxwidthy"), only those atoms are plotted that are located within a box around the center with a width defined by "boxwidthz" (in nm). "translatez" shifts the center of this box along the z-axis. Note that for graphene the interlayer distance is about 0.335 nm, so that the upper layer has z-coordinate 0.1675 nm while the lower layer has z-coordinate -0.1675 nm. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>QNANO: Tools</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QNANO
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">QNANO Documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tools </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#overview_tools">Overview of tools</a><ul><li class="level2"><a href="#tools_hints">Preliminary Notes</a></li>
<li class="level2"><a href="#tools_types">Parameter Types</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_structure_generation">Structure Generation</a><ul><li class="level2"><a href="#tools_bin_generate">$QNANO_DIR/bin/generate</a></li>
<li class="level2"><a href="#tools_bin_shift_positions">$QNANO_DIR/bin/shift_positions</a></li>
<li class="level2"><a href="#tools_bin_center_positions">$QNANO_DIR/bin/center_positions</a></li>
<li class="level2"><a href="#tools_bin_add_positions">$QNANO_DIR/bin/add_positions</a></li>
<li class="level2"><a href="#tools_bin_replace_elements">$QNANO_DIR/bin/replace_elements</a></li>
<li class="level2"><a href="#tools_bin_substitute_positions">$QNANO_DIR/bin/substitute_positions</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_strain_optimization">Strain Optimization</a><ul><li class="level2"><a href="#tools_bin_strain_optimize_tao">$QNANO_DIR/bin/strain_optimize_tao</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_local_potentals">Local Potentials</a><ul><li class="level2"><a href="#tools_bin_parabolic_potential">$QNANO_DIR/bin/parabolic_potential</a></li>
<li class="level2"><a href="#tools_bin_parabolic_potential_2d">$QNANO_DIR/bin/parabolic_potential_2d</a></li>
<li class="level2"><a href="#tools_bin_linear_potential">$QNANO_DIR/bin/linear_potential</a></li>
<li class="level2"><a href="#tools_bin_truncate_potential">$QNANO_DIR/bin/truncate_potential</a></li>
<li class="level2"><a href="#tools_bin_add_potential">$QNANO_DIR/bin/add_potential</a></li>
<li class="level2"><a href="#tools_bin_potential_from_GTE">$QNANO_DIR/bin/potential_from_GTE</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_displaying">Displaying structures</a><ul><li class="level2"><a href="#tools_bin_QNANO2ps">$QNANO_DIR/bin/QNANO2ps</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_SP_diagonalization">Single-Particle diagonalization</a><ul><li class="level2"><a href="#tools_bin_tightbinding_slepc">$QNANO_DIR/bin/tightbinding_slepc</a></li>
<li class="level2"><a href="#tools_bin_tightbinding_eigen">$QNANO_DIR/bin/tightbinding_eigen</a></li>
<li class="level2"><a href="#tools_bin_bandstructure">$QNANO_DIR/bin/bandstructure</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_EV_postprocessing">Postprocessing of Single-Particle Eigenstates</a><ul><li class="level2"><a href="#tools_bin_EV_info">$QNANO_DIR/bin/EV_info</a></li>
<li class="level2"><a href="#tools_bin_EV_max_phase">$QNANO_DIR/bin/EV_max_phase</a></li>
<li class="level2"><a href="#tools_bin_EV_scalar">$QNANO_DIR/bin/EV_scalar</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_section_coulomb">Coulomb</a><ul><li class="level2"><a href="#tools_bin_normalize_orbitals">$QNANO_DIR/bin/normalize_orbitals</a></li>
<li class="level2"><a href="#tools_bin_precompute_coulomb">$QNANO_DIR/bin/precompute_coulomb</a></li>
<li class="level2"><a href="#tools_bin_coulomb">$QNANO_DIR/bin/coulomb</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_section_manybody">Manybody</a><ul><li class="level2"><a href="#tools_bin_manybody_slepc">$QNANO_DIR/bin/manybody_slepc</a></li>
<li class="level2"><a href="#tools_bin_manybody_eigen">$QNANO_DIR/bin/manybody_eigen</a></li>
<li class="level2"><a href="#tools_bin_manybody_spins">$QNANO_DIR/bin/manybody_spins</a></li>
</ul>
</li>
<li class="level1"><a href="#tools_data_structure">Important Data Structures</a><ul><li class="level2"><a href="#tools_TB_Model_Slater_Koster">TB_Model_Slater_Koster</a></li>
<li class="level2"><a href="#tools_Eigenvector_Printer">Eigenvector_Printer</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="overview_tools"></a>
Overview of tools</h1>
<h2><a class="anchor" id="tools_hints"></a>
Preliminary Notes</h2>
<p><b>NOTE 1:</b></p>
<p>One of the most frequently used parameters is the resources directory specified by "resources_dir". This will be used to find resources like material, lattice or orbital files. A parameter of type "resource" is a string that will be interpreted as a filename. The file will be searched in the local directory, optionally appending the suffix ".dat". If no such file is present in the local directory, the file (with and optional suffix ".dat") will be looked for in the resources directory. If called from the command line, "resources_dir" should typically be "$QNANO_DIR/resources".</p>
<p><b>NOTE 2:</b></p>
<p>The main input of the QNANO framework is a position file. When applicable, it will be specified by the parameter "positions". However, whenever a position file is required, we might alternatively generate the structure on the fly using the parameter "generate_positions_from_material", which takes 4 arguments: the material name (resource), and the numbers of unit cells Nx, Ny and Nz along the 3 primitive vectors.</p>
<p><b>NOTE 3:</b></p>
<p>Some vector-type parameters are available in two variants, where one has the suffix "_LU". This indicates "lattice units": The n-th vector component is multiplied with the n-th primitive lattice vector. The lattice is either specified by a separate parameter or, if a positions file is specified that contains a reference to material files, the equilibrium lattice of the first found material is used.</p>
<h2><a class="anchor" id="tools_types"></a>
Parameter Types</h2>
<p>In what follows, the "Types" of parameters have the meaning: </p><table class="doxtable">
<tr>
<th>Type Name </th><th>Meaning  </th></tr>
<tr>
<td>Integer </td><td>A single integer number (C++: int) </td></tr>
<tr>
<td>Real </td><td>A real-valued floating point number (C++: double) </td></tr>
<tr>
<td>Boolean </td><td>A Boolean value "true" or "false" (C++: bool) </td></tr>
<tr>
<td>String </td><td>A string of characters (C++: std::string) </td></tr>
<tr>
<td>Resource </td><td>A resource file name (cf. Preliminary Notes!) </td></tr>
<tr>
<td>Vector(N) </td><td>A vector of N real-valued floating point numbers </td></tr>
</table>
<p>Furthermore, we sometimes have "List of TYPE" for some type "TYPE". This implies that multiple instances of the respetive parameter are parsed, e.g., the "List of Vector(3)" variable "periodic_vec_LU" could be invoked by </p><pre class="fragment">-periodic_vec_LU 1 0 0 -periodic_vec_LU 0 1 0
</pre><p> For "List of Strings" in particular, where there is no ambiguity, we can alternatively place the strings simply one after the other, such as in </p><pre class="fragment">-EV_file EV0.dat EV1.dat EV2.dat EV3.dat
</pre><p> This allows one to use bash-shell replacements &agrave; la </p><pre class="fragment">-EV_file EV[0-3].dat
</pre><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_structure_generation"></a>
Structure Generation</h1>
<h2><a class="anchor" id="tools_bin_generate"></a>
$QNANO_DIR/bin/generate</h2>
<p><b>Purpose:</b> Generation of basic structures. The default is to create 1x1x1 unit cells of a given material. The number of unit cells can be adjusted and advanced options allow to cut out some predefined shapes.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>material  </td><td>resource  </td><td>Material file name. This file contains the information required to set up the structure of a single unit cell.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>Nx, Ny, Nz</td><td>Integer </td><td>1  </td><td>Number of unit cells in the direction of the first, second, and third primitive vector   </td></tr>
<tr>
<td>outfile </td><td>String</td><td>"positions.dat" </td><td>Name of generated positions file  </td></tr>
<tr>
<td>cut_hexagon_zigzag </td><td>Integer </td><td></td><td>NOTE: only works for "hex2D" lattice (e.g., graphene)! Generates and cuts out a hexagonal flake with zigzag edges. The number specified by this parameter corresponds to the number of hexagonal benzene rings along one side of the hexagon.  </td></tr>
<tr>
<td>cut_hexagon_armchair </td><td>Integer </td><td></td><td>NOTE: only works for "hex2D" lattice (e.g., graphene)! Generates and cuts out a hexagonal flake with armchair edges. The number specified by this parameter corresponds to the number of hexagonal benzene rings along one side of the hexagon.  </td></tr>
<tr>
<td>use_center_as_origin</td><td>Boolean </td><td>false  </td><td>If structures are cut (cf. cut_radius or cut_plane), the origin for cutting processes has to be defined. By default the origin is set to (0,0,0), which is the starting point from which the Nx x Ny x Nz is constructed. Setting "use_center_as_origin" to "true" will shift the origin to the center of a bounding box to the generated Nx x Ny x Nz sample.  </td></tr>
<tr>
<td>cut_origin</td><td>Vector(3)  </td><td>(0, 0, 0)  </td><td>Set origin for cutting manually  </td></tr>
<tr>
<td>cut_origin_plus</td><td>Vector(3)  </td><td>(0, 0, 0)  </td><td>Shift origin by adding a vector to the original origin  </td></tr>
<tr>
<td>cut_radius</td><td>Real </td><td>0.  </td><td>If larger than 0: After a block of unit cells has been specified (set Nx, Ny and Nz to large enough values) all atoms outside of a sphere with radius "cut_radius" are removed </td></tr>
<tr>
<td>cut_plane</td><td>Vector(4)  </td><td></td><td>Remove atoms beyond a plane specified by its Hesse normal form. Uses the "cut_origin".  </td></tr>
<tr>
<td>cut_plane_through</td><td>Vector(6)  </td><td></td><td>Remove atoms beyond a plane specified by the vector perpendicular to the plane and pointing outward and a vector determining the origin explicitly.  </td></tr>
<tr>
<td>cut_plane_through_LU</td><td>Vector(6)  </td><td></td><td>Remove atoms beyond a plane specified by the vector perpendicular to the plane and pointing outward and a vector determining the origin explicitly. The origin is specified in lattice units, i.e., in multiples of lattice primitive vectors.  </td></tr>
<tr>
<td>cut_plane_through_LU_LU</td><td>Vector(6)  </td><td></td><td>Remove atoms beyond a plane specified by the vector perpendicular to the plane and pointing outward and a vector determining the origin explicitly. Both, the direction vector as well as the origin are specified in lattice units.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_shift_positions"></a>
$QNANO_DIR/bin/shift_positions</h2>
<p><b>Purpose:</b> Takes position file and shifts all atoms by a vector.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of position file.  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of output file.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>shift_nm </td><td>Vector(3) </td><td>(0., 0., 0.)  </td><td>Shift vector in nm.  </td></tr>
<tr>
<td>shift_LU </td><td>Vector(3) </td><td>(0., 0., 0.)  </td><td>Shift vector in lattice units.  </td></tr>
<tr>
<td>material </td><td>Resource </td><td></td><td>Material from which the lattice for the lattice units is deduced. If not specified, the material is taken to be the first one specified in the position file.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_center_positions"></a>
$QNANO_DIR/bin/center_positions</h2>
<p><b>Purpose:</b> Shifts all atom positions so that the new origin in the center of a bounding box. Otherwise, using the "generate" tools, the origin is typically the point from which a regular lattice of the underlying material is constructed. This tool is particularly useful in combination with external potentials.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of position file  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of generated position file  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_add_positions"></a>
$QNANO_DIR/bin/add_positions</h2>
<p><b>Purpose:</b> From samples by adding two or more positions files</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>List of Strings  </td><td>Names of position files to be added  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of generated position file  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>shift_nm  </td><td>Vector(3)  </td><td>(0., 0., 0.)  </td><td>All position files except for the first will be shifted by the specified vector (units: nm) before being added.  </td></tr>
<tr>
<td>shift_LU  </td><td>Vector(3)  </td><td>(0., 0., 0.)  </td><td>All position files except for the first will be shifted by the specified vector (units: lattice units) before being added.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_replace_elements"></a>
$QNANO_DIR/bin/replace_elements</h2>
<p><b>Purpose:</b> Substitute elements in a position file.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of input position file  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of generated position file  </td></tr>
<tr>
<td>replace  </td><td>List of Vector(2) </td><td>Element identified by first argument is replace by the second argument  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>density  </td><td>Real  </td><td>1.  </td><td>Probability of atom being replaced. Used for alloying.  </td></tr>
<tr>
<td>seed  </td><td>Integer  </td><td>0  </td><td>Random seed for probabilistic replacement.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_substitute_positions"></a>
$QNANO_DIR/bin/substitute_positions</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_strain_optimization"></a>
Strain Optimization</h1>
<h2><a class="anchor" id="tools_bin_strain_optimize_tao"></a>
$QNANO_DIR/bin/strain_optimize_tao</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_local_potentals"></a>
Local Potentials</h1>
<h2><a class="anchor" id="tools_bin_parabolic_potential"></a>
$QNANO_DIR/bin/parabolic_potential</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_parabolic_potential_2d"></a>
$QNANO_DIR/bin/parabolic_potential_2d</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_linear_potential"></a>
$QNANO_DIR/bin/linear_potential</h2>
<p><b>Purpose:</b> Generate potential file describing a linear potential discretized on the atoms of a given sample: <img class="formulaInl" alt="$V(r)=V_0 \;\mathbf{d}\cdot(\mathbf{r}-\mathbf{r}_0)$" src="form_0.png"/>.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of input position file  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of generated position file  </td></tr>
<tr>
<td>strength <em>or</em> strength_LU  </td><td>Real </td><td>strength <img class="formulaInl" alt="$V_0$" src="form_1.png"/> of the potential in [eV/nm] <em>or</em> [eV] if lattice units are used.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>center  </td><td>Vector(3)  </td><td>(0, 0, 0)  </td><td>Center <img class="formulaInl" alt="$\mathbf{r}_0$" src="form_2.png"/> of the coordinate system.  </td></tr>
<tr>
<td>direction  </td><td>Vector(3)  </td><td>(0, 0, 1)  </td><td>Direction <img class="formulaInl" alt="$\mathbf{d}$" src="form_3.png"/>, will be normalized. If "strength_LU" is specified, the direction is interpreted in lattice units before normalization.  </td></tr>
<tr>
<td>add_to  </td><td>String  </td><td></td><td>After calculation, the potential is added to the potential from the file specified by this parameter.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_truncate_potential"></a>
$QNANO_DIR/bin/truncate_potential</h2>
<p><b>Purpose:</b> Truncates potential: every value of the potential above (or below) a given threshold is set to the threshold value.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>potential  </td><td>String  </td><td>Name of the input potential file.  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of the output potential file.  </td></tr>
<tr>
<td>threshold  </td><td>Real  </td><td>Threshold at which the potential is capped  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>from_below </td><td>Boolean </td><td>false  </td><td>Set to true if potential is to be capped from below instead of from above.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_add_potential"></a>
$QNANO_DIR/bin/add_potential</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_potential_from_GTE"></a>
$QNANO_DIR/bin/potential_from_GTE</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_displaying"></a>
Displaying structures</h1>
<h2><a class="anchor" id="tools_bin_QNANO2ps"></a>
$QNANO_DIR/bin/QNANO2ps</h2>
<p><b>Purpose:</b> Display structures by generating postscript files. The output can be opened with a standard ps/pdf reader like "evince" on Linux or it can be converted by most image processing tools to another graphics format.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of positions file of the structure to be depicted  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>outfile </td><td>String </td><td>"QNANO2ps.ps"  </td><td>Name of the generated postscript file. Should end in ".ps"   </td></tr>
<tr>
<td>displayEV</td><td>List of Strings </td><td></td><td>Name of a single-particle eigenvector file. When used, the charge density of the eigenstate will be plotted. If multiple file names are specified, the charge densities will be added (useful, e.g., for degenerate states).  </td></tr>
<tr>
<td>potential</td><td>String</td><td></td><td>Name of a potential file. When used, the potential on the selected atoms will be plotted.  </td></tr>
<tr>
<td>lookfrom</td><td>"x", "y" or "z" </td><td>"z"  </td><td>Direction from which the structure is depicted  </td></tr>
<tr>
<td>quaternion</td><td>Vector(4) </td><td>(1, 0, 0, 0)  </td><td>Direction from which the structure is depicted, defined by a quaternion  </td></tr>
<tr>
<td>boxwidthx, boxwidthy, boxwidthz</td><td>Real</td><td>0 </td><td>Used if &gt; 0: Plotting the structure from one side implies that everything below the surface will be covered by the surface atoms. We can filter out a subset of atoms to be displayed by defining a box (width in nm) around the center of the sample. For example, when looking from the z-direction, setting "boxwidthz" to a small value ~0.3 allows us to depict a cross section though the center of the sample.  </td></tr>
<tr>
<td>translatex, translatey, translatez</td><td>Real</td><td>0  </td><td>Translates the center of box of selected atoms.  </td></tr>
<tr>
<td>atom_radius</td><td>Real</td><td>0.05</td><td>Radius of the circles depicting the atoms (in nm).  </td></tr>
<tr>
<td>atom_border_width</td><td>Real</td><td>0.001</td><td>By default the circles depicting the atoms have a small gray border. This parameter defines its size in nm. Set to 0 if you don't want a border on the atoms.  </td></tr>
<tr>
<td>postscript_nm_to_pt</td><td>Real</td><td>30.</td><td>Scale with which distances in nm will be converted into pt in the postscript.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_SP_diagonalization"></a>
Single-Particle diagonalization</h1>
<h2><a class="anchor" id="tools_bin_tightbinding_slepc"></a>
$QNANO_DIR/bin/tightbinding_slepc</h2>
<p><b>Purpose:</b> SLEPc-based solver for single-particle tight-binding Hamiltonians. MPI-Parallelized, so try calling by $MPIRUN -n $NTHREADS $QNANO_DIR/bin/tightbinding_slepc.</p>
<p><b> USES ALL PARAMETERS OF: <a class="el" href="tools.html#tools_TB_Model_Slater_Koster">TB_Model_Slater_Koster</a> and <a class="el" href="tools.html#tools_Eigenvector_Printer">Eigenvector_Printer</a> as well as additional SLEPc/PETSc command line options</b></p>
<p><b>Typical useful SLEPc options:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value  </th><th>Meaning   </th></tr>
<tr>
<td>eps_target  </td><td>Real  </td><td>0.  </td><td>Target value: Defines spectral region where eigenstates are looked for. Furthermore, eigenvalues/eigenvectors will be printed in ascending order of the absolute difference to the target value.  </td></tr>
<tr>
<td>eps_nev  </td><td>Integer </td><td>1.  </td><td>Number of eigenstates to be calculated.  </td></tr>
<tr>
<td>eps_monitor, eps_monitor_all  </td><td><em>No Argument</em> </td><td></td><td>Prints information after each iteration step.  </td></tr>
<tr>
<td>eps_harmonic </td><td><em>No Argument</em> </td><td></td><td>Turns on harmonic extraction. This can speed up the convergence significantly. However, know what you are doing an look it up in the documentation for SLEPc. If harmonic extraction is used, you should also set "eps_ncv" to an integer at least twice the size of "eps_nev", but not too large because the memory demands will increase as well.   </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_tightbinding_eigen"></a>
$QNANO_DIR/bin/tightbinding_eigen</h2>
<p><b>Purpose:</b> Exact solver for single-particle tight-binding Hamiltonians using Eigen library.</p>
<p><b> USES ALL PARAMETERS OF: <a class="el" href="tools.html#tools_TB_Model_Slater_Koster">TB_Model_Slater_Koster</a> and <a class="el" href="tools.html#tools_Eigenvector_Printer">Eigenvector_Printer</a> </b></p>
<p><b>Additional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value  </th><th>Meaning   </th></tr>
<tr>
<td>eps_target  </td><td>Real  </td><td>0.  </td><td>Target value: Defines spectral region where eigenstates are looked for. Furthermore, eigenvalues/eigenvectors will be printed in ascending order of the absolute difference to the target value.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_bandstructure"></a>
$QNANO_DIR/bin/bandstructure</h2>
<p><b>Purpose:</b> Band structure calculation tool. More precisely, caluculates tight-binding problems while multiplying each hopping element by <img class="formulaInl" alt="$ \exp(i k r) $" src="form_4.png"/> for a number of values for <img class="formulaInl" alt="$ k $" src="form_5.png"/>, where <img class="formulaInl" alt="$ r $" src="form_6.png"/> is the distance vector between the respective neighbors.</p>
<p><b> USES ALL PARAMETERS OF: <a class="el" href="tools.html#tools_TB_Model_Slater_Koster">TB_Model_Slater_Koster</a> and <a class="el" href="tools.html#tools_Eigenvector_Printer">Eigenvector_Printer</a> </b></p>
<p><b>Additional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value  </th><th>Meaning   </th></tr>
<tr>
<td>kpt_file  </td><td>String  </td><td>required if "kpt_path_point" not set </td><td>k-point file in the same format as in QUANTUM ESPRESSO  </td></tr>
<tr>
<td>kpt_path_point  </td><td>Vector(4)  </td><td>required if "kpt_file" not set </td><td>First 3 elements: k-point in units of reciprocal lattice vector (single unit cell specified by lattice file). 4th element: Number of discretization points from this k-point to the next specified point (exclusive). C.f. k-point path format in QUANTUM ESPRESSO.  </td></tr>
<tr>
<td>scale_k  </td><td>Vector(3)  </td><td>(1., 1., 1.) </td><td>Scales the first 3 numbers of 'kpt_path_point' (or of each line in the 'kpt_file') by the respective scaling factor specified here. Useful for periodic structures with more than 1x1x1 unit cells. For example, for a 2x2x1 unit cell, set scale_k to (0.5, 0.5, 1).  </td></tr>
</table>
<p><b>NOTE:</b> "-periodic_vec_LU" from <a class="el" href="tools.html#tools_TB_Model_Slater_Koster">TB_Model_Slater_Koster</a> for periodic structures is not automatically set! Do so manually!</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_EV_postprocessing"></a>
Postprocessing of Single-Particle Eigenstates</h1>
<h2><a class="anchor" id="tools_bin_EV_info"></a>
$QNANO_DIR/bin/EV_info</h2>
<p><b>Purpose:</b> Show some information about single-particle eigenstates. Useful for sanity checks.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>resources_dir  </td><td>String  </td><td>Resources directory, usually "$QNANO_DIR/resources"  </td></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of positions file of the structure to be depicted  </td></tr>
<tr>
<td>EV_file  </td><td>List of Strings  </td><td>Names of single-particle eigenvector files.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_EV_max_phase"></a>
$QNANO_DIR/bin/EV_max_phase</h2>
<p><b>Purpose:</b> Print complex phase of the local orbital expansion coefficient of single-particle eigenvector files with maximal density.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>EV_file  </td><td>List of Strings  </td><td>Names of single-particle eigenvector files.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_EV_scalar"></a>
$QNANO_DIR/bin/EV_scalar</h2>
<p><b>Purpose:</b> Calculates the scalar product between one single-particle eigenstate and a number of others</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>EV_file  </td><td>List of Strings  </td><td>Names of single-particle eigenvector files. The scalar product of the first state in the list with all the others will be calculated. At least two files have to be specified.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_section_coulomb"></a>
Coulomb</h1>
<h2><a class="anchor" id="tools_bin_normalize_orbitals"></a>
$QNANO_DIR/bin/normalize_orbitals</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_precompute_coulomb"></a>
$QNANO_DIR/bin/precompute_coulomb</h2>
<p><b>Purpose:</b> Pre-computation of onsite Coulomb matrix element for a given element (only done once for a new material).</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>orbfile  </td><td>String  </td><td>Name of the orbital file specifying the Slater orbitals and the orbitals to be used.  </td></tr>
<tr>
<td>outfile  </td><td>String  </td><td>Name of the output file for the precomputed onsite Coulomb matrix elements.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>lim </td><td>Real </td><td>2.5  </td><td>Integration limits: -lim ... lim  </td></tr>
<tr>
<td>Ndiscr </td><td>Integer </td><td>1e8  </td><td>Number of sample points for the VEGAS algorithm.   </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_coulomb"></a>
$QNANO_DIR/bin/coulomb</h2>
<p><b>Purpose:</b> Calculation of Coulomb matrix elements between selected single-particle eigenstates. MPI-Parallelized, so try calling by $MPIRUN -n $NTHREADS $QNANO_DIR/bin/coulomb.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>resources_dir  </td><td>String  </td><td>Resources directory. Usually "$QNANO_DIR/resources".  </td></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of the positions file.  </td></tr>
<tr>
<td>dielectric_constant  </td><td>Real  </td><td>Dielectric constant for long-range terms. Only required if "no_longrange" is "false".  </td></tr>
<tr>
<td>nr_e, nr_h, nr_e_LR, nr_h_LR, nr_e_OS <em>and/or</em> nr_h_OS  </td><td>Integer  </td><td>Number of electron (nr_e...) or hole (nr_h...) states. Can be set separately for long-range (LR) and onsite (OS) terms.  </td></tr>
<tr>
<td>EV_filename_pattern_e <em>and/or</em> EV_filename_pattern_h  </td><td>String  </td><td>Pattern for conduction band electron (_e) or valence band electron (_h) single-particle eigenvector files. Has to contain a '*', which is then replaced by a number <img class="formulaInl" alt="$i \in [0,1,\dots,n_{e/h}] $" src="form_7.png"/> for a concrete eigenstate.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>outfile_direct </td><td>String </td><td>"Vdirect.dat"  </td><td>Name of output file for direct electron-hole terms  </td></tr>
<tr>
<td>outfile_exchange </td><td>String </td><td>"Vexchange.dat"  </td><td>Name of output file for exchange electron-hole terms  </td></tr>
<tr>
<td>outfile_ee </td><td>String </td><td>"Vee.dat"  </td><td>Name of output file for electron-electron terms  </td></tr>
<tr>
<td>outfile_hh </td><td>String </td><td>"Vhh.dat"  </td><td>Name of output file for hole-hole terms  </td></tr>
<tr>
<td>nr_blocks </td><td>Integer </td><td>1  </td><td>Block decomposition of matrix-vector products for long-range terms. Set to larger value if program takes too much memory. This, however, comes at the cost of increasing overhead and therefore computation time.   </td></tr>
<tr>
<td>no_dir, no_exc, no_ee, no_hh </td><td>Boolean </td><td>false  </td><td>Used to turn off calculation of direct, exchange, electron-electron or hole-hole terms  </td></tr>
<tr>
<td>no_longrange, no_onsite </td><td>Boolean </td><td>false  </td><td>Used to turn off calculation of long-range or onsite terms  </td></tr>
<tr>
<td>onsite_coulomb </td><td>List of Pairs(String, String) </td><td></td><td>Load precomputed onsite Coulomb matrix element for a specific material. First argument per pair is an orbital file, the second argument is the file containing the precomputed onsite Coulomb matrix elements.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_section_manybody"></a>
Manybody</h1>
<h2><a class="anchor" id="tools_bin_manybody_slepc"></a>
$QNANO_DIR/bin/manybody_slepc</h2>
<p><b> SAME AS FOR <a class="el" href="tools.html#tools_bin_manybody_eigen">$QNANO_DIR/bin/manybody_eigen</a> plus additional SLEPc/PETSc command line options! </b></p>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_manybody_eigen"></a>
$QNANO_DIR/bin/manybody_eigen</h2>
<p><b> USES ALL PARAMETERS OF: <a class="el" href="tools.html#tools_Eigenvector_Printer">Eigenvector_Printer</a> </b></p>
<p>Additional parameters: </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value </th><th>Meaning   </th></tr>
<tr>
<td>rank_e, rank_h </td><td>Integer </td><td>Required </td><td>Rank, i.e., number of electron and hole in the excitonic complex, e.g, rank_e=1 and rank_h=2 for positive trions.  </td></tr>
<tr>
<td>nr_e, nr_h </td><td>Integer </td><td>Required </td><td>Number of electron and hole single particle states from which the basis of Slater determinants is constructed.  </td></tr>
<tr>
<td>cb_energies, vb_energies</td><td>String </td><td>Required </td><td>Name of files containing conduction and valence band single-particle energy eigenvalues.  </td></tr>
<tr>
<td>Vdir, Vexc, Vee, Vhh</td><td>String </td><td></td><td>Coulomb matrix element files for direct, exchange, electron-electron and hole-hole terms.  </td></tr>
<tr>
<td>no_dir, no_exc, no_ee, no_hh</td><td>Boolean </td><td>false </td><td>Used to turn off direct, exchange, electron-electron or hole-hole states.  </td></tr>
</table>
<p><br />
</p><hr/>
<p><br />
</p>
<h2><a class="anchor" id="tools_bin_manybody_spins"></a>
$QNANO_DIR/bin/manybody_spins</h2>
<p>TODO: EXPAND</p>
<p><br />
</p><hr/>
<p><br />
</p>
<h1><a class="anchor" id="tools_data_structure"></a>
Important Data Structures</h1>
<h2><a class="anchor" id="tools_TB_Model_Slater_Koster"></a>
TB_Model_Slater_Koster</h2>
<p><b>Purpose:</b> Structure to set up general tight-binding Hamiltonians with Slater-Koster parametrization.</p>
<p><b>Required parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Meaning   </th></tr>
<tr>
<td>resources_dir  </td><td>String  </td><td>Resources directory. Usually "$QNANO_DIR/resources".  </td></tr>
<tr>
<td>positions  </td><td>String  </td><td>Name of the positions file. Only required if "generate_positions_from_material" is set.  </td></tr>
<tr>
<td>generate_positions_from_material  </td><td>String+Vector(3) </td><td>Instead of supplying a positions file, we can also generate Nx x Ny x Nz unit cells (arguments 2, 3, and 4) of a given material (first argument) on the fly. Not required if "positions" is specified.  </td></tr>
</table>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value  </th><th>Meaning   </th></tr>
<tr>
<td>without_spinorbit  </td><td>Boolean  </td><td>false  </td><td>Used to force turning off spin-orbit coupling.  </td></tr>
<tr>
<td>without_strain_correction  </td><td>Boolean  </td><td>false  </td><td>Used to force turning off strain corrections in tight-binding model.  </td></tr>
<tr>
<td>periodic_vec_LU  </td><td>List of Vector(3)  </td><td></td><td>Periodicity vector for periodic structures in lattice units, i.e. smallest vector <img class="formulaInl" alt="$ \mathbf{R} $" src="form_8.png"/> along a certain direction for which the atom at <img class="formulaInl" alt="$\mathbf{r}+\mathbf{R}$" src="form_9.png"/> corresponds to the one at <img class="formulaInl" alt="$\mathbf{r}$" src="form_10.png"/>.  </td></tr>
<tr>
<td>passivate_sp  </td><td>Boolean  </td><td>false  </td><td>Used to turn on surface passivation assuming sp3-hybridized orbitals.  </td></tr>
<tr>
<td>potential  </td><td>String  </td><td></td><td>Name of file containing an external potential evaluated for the same structure as provided by the "positions" parameter.  </td></tr>
<tr>
<td>no_nn2  </td><td>Boolean  </td><td>false  </td><td>Used to turn off second-nearest neighbors, even if they are specified in the material files.  </td></tr>
</table>
<h2><a class="anchor" id="tools_Eigenvector_Printer"></a>
Eigenvector_Printer</h2>
<p><b>Optional parameters:</b> </p><table class="doxtable">
<tr>
<th>Name  </th><th>Type  </th><th>Default Value  </th><th>Meaning   </th></tr>
<tr>
<td>EV_filename_pattern </td><td>String </td><td>"EV*.dat" </td><td>Pattern for printed eigenvector file name. Has to contain an '*'.  </td></tr>
<tr>
<td>eigenvalue_filename </td><td>String </td><td>"eigenvalues.dat"  </td><td>File name for printed eigenvalues.  </td></tr>
<tr>
<td>nr_print </td><td>Integer  </td><td>0 </td><td>Number of printed eigenvectors. If &lt;0, all converged states are printed.  </td></tr>
<tr>
<td>print_Kramers_sz</td><td>Boolean </td><td>false  </td><td>Used to switch on Kramers rotation: For calculations with spin but without magnetic field, time-reversal symmetry ensures that all energy eigenstates come in pairs. If "print_Kramers_sz" is set to true, those linear combinations of the two states in one pair are printed that minimize/maximize the z-component of the spin. For calculations without spin-orbit coupling, this means that the first state in each pair is a spin-down state, the second is a spin-up state.  </td></tr>
<tr>
<td>kramers_tolerance</td><td>Real </td><td>1e-7  </td><td>Determines when two are assumed to be degenerate for Kramers rotation.  </td></tr>
</table>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
